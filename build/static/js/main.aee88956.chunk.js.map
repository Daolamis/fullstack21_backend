{"version":3,"sources":["FilterForm.js","Notification.js","PersonForm.js","Persons.js","services/persons.js","App.js","index.js"],"names":["FilterForm","filter","handleFilter","value","onChange","Notification","notification","notificationClass","isError","className","msg","PersonForm","newName","handleNewName","newNumber","handleNewNumber","handleSubmit","onSubmit","Person","person","handleDelete","name","number","onClick","Persons","persons","map","p","baseUrl","axios","get","then","response","data","post","id","delete","put","App","useState","setPersons","setNewName","setNewNumber","setFilter","setNotification","useEffect","personService","initialPersons","showNotification","setTimeout","e","target","preventDefault","existingPerson","find","window","confirm","updatedPerson","createdPerson","concat","toUpperCase","indexOf","catch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.aee88956.chunk.js","sourcesContent":["const FilterForm = ({ filter, handleFilter }) => (\n    <div>\n        filter shown with <input value={filter} onChange={handleFilter} />\n    </div>\n);\n\nexport default FilterForm;","const Notification = ({ notification }) => {\n    if (!notification) {\n        return null;\n    }\n    const notificationClass = notification.isError ? 'error' : 'info';\n    return <div className={notificationClass}>{notification.msg}</div>\n}\n\nexport default Notification;","const PersonForm = ({ newName, handleNewName, newNumber, handleNewNumber, handleSubmit }) => (\n    <form onSubmit={handleSubmit}>\n        <h3>Add a new</h3>\n        <div>\n            name: <input value={newName} onChange={handleNewName} />\n        </div>\n        <div>\n            number: <input value={newNumber} onChange={handleNewNumber} />\n        </div>\n        <div>\n            <button>add</button>\n        </div>\n    </form>\n);\n\nexport default PersonForm;","const Persons = ({ persons, handleDelete }) => (\n    persons.map(p => <Person key={p.name} person={p} handleDelete={() => handleDelete(p)} />)\n)\nconst Person = ({ person, handleDelete }) => (\n    <div>\n        {person.name} {person.number}\n        <button onClick={handleDelete}>delete</button>\n    </div>\n);\n\nexport default Persons;","import axios from \"axios\";\n\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n        .then(response => response.data);\n}\n\nconst create = (person) => {\n    return axios.post(baseUrl, person)\n        .then(response => response.data);\n}\n\nconst remove = (id) => {\n    return axios.delete(`${baseUrl}/${id}`)\n        .then(response => response.data);\n}\n\nconst update = (person) =>{\n    return axios.put(`${baseUrl}/${person.id}`, person)\n    .then(response => response.data);\n}\n\nexport default { getAll, create, remove, update };","import React, { useEffect, useState } from \"react\"\nimport FilterForm from \"./FilterForm\";\nimport Notification from \"./Notification\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    personService.getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons);\n      })\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const existingPerson = persons.find(p => p.name === newName)\n    if (existingPerson) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new number`)) {\n        personService.update({ ...existingPerson, number: newNumber })\n          .then((updatedPerson) => {\n            setPersons(persons.map(p => p.id !== updatedPerson.id ? p : updatedPerson));\n            setNewName('');\n            setNewNumber('');\n            showNotification(`Changed ${updatedPerson.name} phonenumber`, false);\n          })\n      }\n    } else {\n      const personObject = { name: newName, number: newNumber };\n      personService.create(personObject)\n        .then(createdPerson => {\n          setPersons(persons.concat(createdPerson));\n          setNewName('');\n          setNewNumber('');\n          showNotification(`Added ${createdPerson.name}`, false);\n        });\n    }\n  };\n\n  const showNotification = (msg, isError) => {\n    setNotification({ msg, isError });\n    setTimeout(() => { setNotification(null) }, 5000);\n  };\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete ${person.name}`)) {\n      personService.remove(person.id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== person.id));\n          showNotification(`Deleted ${person.name}`, false);\n        })\n        .catch(() => {\n          showNotification(`Information of ${person.name} was already removed from server`, true);\n        });\n    }\n  }\n\n  const handleNewName = (e) => {\n    setNewName(e.target.value);\n  };\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value);\n  };\n  const handleFilter = (e) => {\n    setFilter(e.target.value);\n  };\n  const filterPersons = () => {\n    if (filter) {\n      return persons.filter(p => p.name.toUpperCase().indexOf(filter.toUpperCase()) !== -1)\n    }\n    return persons\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification notification={notification} />\n      <FilterForm filter={filter} handleFilter={handleFilter} />\n      <PersonForm newName={newName}\n        handleNewName={handleNewName}\n        newNumber={newNumber}\n        handleNewNumber={handleNewNumber}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={filterPersons()} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}